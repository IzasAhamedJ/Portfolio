(self.modernJsonp=self.modernJsonp||[]).push([["63815"],{158317:function(e,t,n){n.r(t),n.d(t,{default:()=>j});var r=n(667294),a=n(616550),l=n(20256),i=n(811203),o=n(980787),s=n(289032),d=n(839626),c=n(525839),u=n(816358),f=n(25837),h=n(963930),_=n(915131),p=n(921825),b=n(785893);function x(e){let{preload:t}=(0,p.G)(),{tabs:n,onChange:r,...i}=e,o=n.map(e=>{switch(e.kind){case"Entrypoint":return{href:(0,a.Gn)(e.route.kind,e.route.routeParams),...e.tab,_onMouseEnter:n=>{let r=e.preloadExtent??"Both";"None"!==r&&t(e.route,r),e.tab._onMouseEnter?.(n)}};case"Legacy":return e.tab;default:return(0,_.Z)(e)}});return(0,b.jsx)(l.mQ,{onChange:e=>{let a=n[e.activeTabIndex];a?.kind==="Entrypoint"&&t(a.route,"Both"),r?.(e)},tabs:o,...i})}let y=new l.Ry(6),m=new l.Ry(1),g={__style:{background:"linear-gradient(#B237A5, #2277B9)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}};function w({boards:e,currentTabId:t,currentTabIndex:n,headerShadowContext:a,hideTabs:_,inLocalNavigation:p,isPartner:w,isTodayTabEnabled:S,nonFixed:v}){let I=(0,c.ZP)(),{logContextEvent:k}=(0,o.u)(),E=(0,r.useRef)(null),P=(0,r.useRef)(null),C=(0,r.useRef)(null),[j,A]=(0,r.useState)(0),[z,T]=(0,r.useState)(!1),[N,B]=(0,r.useState)(!1),[R,F]=(0,r.useState)(0),[M,Z]=(0,r.useState)(0),H=(e,t)=>(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:`linear-gradient(to ${"back"===e?"right":"left"}, #FFFFFF 51.56%, rgba(255, 255, 255, 0) 100%`,padding:"back"===e?"8px 32px 8px 0":"8px 0 8px 32px"}},left:"back"===e,position:"absolute",right:"forward"===e,children:(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px 0px rgba(0, 0, 0, 0.1)"}},rounding:"circle",children:(0,b.jsx)(l.hU,{accessibilityLabel:"back"===e?I._('Previous tabs', 'localNav.tab.backArrow', 'accessibility label for local navigation back arrow'):I._('Next tabs', 'localNav.tab.fwdArrow', 'accessibility label for local navigation forward arrow'),bgColor:"white",icon:"back"===e?"arrow-back":"arrow-forward",onClick:t,size:"sm"})})}),L=(t=>{let r=[{kind:"Legacy",tab:{href:"/homefeed/",id:"homefeed",text:w&&!p?I._('For you', 'authHomefeed.moreIdeasNav.homefeed', 'Homefeed tab shown when user is a partner'):I._('All', 'authHomefeed.moreIdeasNav.homefeed', 'Homefeed tab shown when user is not a partner ')}}];if(w&&!p)return S?[...r,{kind:"Entrypoint",route:{kind:"/today/",routeParams:{}},tab:{id:"today",text:I._('Explore', 'authHomefeed.moreIdeasNav.explore', 'Explore tab shown when user is a partner')},preloadExtent:t}]:r;if(e&&p){let t=e.findIndex(e=>"board_more_ideas"===e.tab_type),a=e.findIndex(e=>"pinterest_picks"===e.tab_type);return[...r,...e.map((e,r)=>({kind:"Legacy",tab:{href:"pinterest_picks"===e.tab_type?"/?holidayFinds=true":`/?boardId=${e.id}`,id:String(e.id),text:"pinterest_picks"===e.tab_type&&n!==a+1?(0,b.jsx)(l.xu,{dangerouslySetInlineStyle:g,children:"Holiday finds"}):e.name,ref:r===t?P:void 0}}))]}return r})((0,h._)().preloadExtent),W=(0,r.useCallback)((e,t)=>{T(e>0),B(e<t)},[]),D=(0,r.useCallback)(e=>{let t=C.current;if(t&&null!=n){let r=t.children[0]?.children[0]?.children[n];if(r){let n=t.clientWidth,a=r.offsetLeft-(n-r.offsetWidth)/2;Z(a=Math.max(0,Math.min(a,e))),W(a,e)}}},[n,W]),O=(0,r.useCallback)(()=>{let e=Math.min(M+(j-90),R);Z(e),W(e,R)},[M,j,R,W]),G=(0,r.useCallback)(()=>{let e=Math.max(M-(j-90),0);Z(e),W(e,R)},[M,j,R,W]);(0,r.useEffect)(()=>(a.setSubheaderShadow("moreIdeas"),E.current&&u.Z.addObstruction("top",E.current),()=>{a.setSubheaderShadow(null)}),[a]),(0,r.useEffect)(()=>{let e=(0,s.Z)(()=>{let e=C.current;if(e){let t=e.children[0]?.scrollWidth||0,n=e.clientWidth,r=Math.max(0,t-n);A(n),F(r),Z(Math.min(M,r)),D(r)}},200);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[M,D]),(0,r.useEffect)(()=>{let e=C.current;if(e){let t=e.children[0]?.scrollWidth||0,n=e.clientWidth,r=Math.max(0,t-n);A(n),F(r),Z(Math.min(0,r)),D(r)}},[D]);let U=p?n:L.findIndex(e=>e.tab.id===t),Y=U?L[U]:void 0;return(0,b.jsx)(l.xu,{ref:E,children:(0,b.jsx)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{transform:_?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out",...a.isScrolled&&!p?f.Rz:{}}},position:v?"static":"fixed",width:"100%",zIndex:y,children:(0,b.jsxs)(l.xu,{ref:C,alignItems:"stretch",dangerouslySetInlineStyle:{__style:{overflowX:"clip"}},display:"flex",justifyContent:!w&&p?"start":"center",width:"100%",children:[(0,b.jsxs)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:`-${M}px`,transition:"left 0.3s, right 0.3s"}},display:"flex",height:i.Z,justifyContent:!w&&p?"start":"center",paddingY:0,position:"relative",children:[(0,b.jsx)(x,{activeTabIndex:null!=U&&Y?U:0,onChange:({activeTabIndex:t,event:n})=>{n.preventDefault();let r=L[t];r&&k({aux_data:{index:t.toString()},component:13184,element:(({activeTabIndex:t,currentTab:n})=>{if(!w&&p&&e?.[t-1]?.tab_type==="pinterest_picks")return 14584;switch(n){case"homefeed":return 11081;case"today":return 11674;default:return 11082}})({activeTabIndex:t,currentTab:r.tab.id}),event_type:101,view_parameter:3173,view_type:1})},tabs:L}),!w&&p&&P?.current&&(0,b.jsx)(d.Qp,{anchor:P?.current,experienceIds:[506684],forceDirection:!0,idealDirection:"down",placementId:11,showCaret:!0,textWeight:"normal",zIndex:f.NW})]}),p&&!w&&(0,b.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"between",zIndex:m,children:[z&&H("back",G),N&&H("forward",O)]})]})})})}var S=n(258019),v=n(821342),I=n(467366),k=n(378888),E=n(264251),P=n(819199),C=n(473351);function j({boards:e,currentTabIndex:t,hideTabs:n,inLocalNavigation:l,nonFixed:i}){let o=(0,P.bj)(),{setIsContentHeaderPresent:s}=(0,E.g)(),d=(0,a.TH)(),c=(0,v.Z)(),u=!!c.isAuth&&c.isPartner,f=(0,I.Z)(),h=f?{component:8,element:11674}:Object.freeze({});return((0,S.Z)(h),(0,r.useEffect)(()=>(s(!0),function(){s(!1)}),[]),u&&d||l)?(0,b.jsx)(w,{boards:e,currentTabId:function(){let{pathname:e,search:t}=d;if(u){if("/following/"===e)return"following";else if(e.includes((0,C.tG)()))return"today";else if("/homefeed/"===e&&""===t)return"homefeed"}return(({search:e})=>e&&"string"==typeof(0,k.mB)(e).boardId&&(0,k.mB)(e).boardId||null)(d)}(),currentTabIndex:t,headerShadowContext:o,hideTabs:n,inLocalNavigation:l,isPartner:u,isTodayTabEnabled:f,nonFixed:i}):null}},258019:function(e,t,n){n.d(t,{Z:()=>i});var r=n(667294),a=n(980787),l=n(346955);let i=e=>{let t=(0,r.useRef)(!1),{logContextEvent:n}=(0,a.u)(),{viewType:i,viewParameter:o}=(0,l.SU)();(0,r.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&i&&(n({event_type:13,view_type:i,view_parameter:o,...e}),t.current=!0)})}},467366:function(e,t,n){n.d(t,{Z:()=>i});var r=n(821342),a=n(15667);let l={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function i(){let e=(0,a.B)(),t=(0,r.Z)(),n=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let i=e.locale.substring(0,2);return!!l[i]?.includes(n)}},963930:function(e,t,n){n.d(t,{_:()=>a});var r=n(274320);function a(){let{checkExperiment:e}=(0,r.r)(),t=e("entrypoints_today_page_prefetch");switch(t.group){case"prefetch_all":return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"};default:{let{anyEnabled:e}=t;return{preloadExtent:e?"Both":"None"}}}}},473351:function(e,t,n){function r(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function a(e){return r("/admin/",e)}function l(e){return r("/admin/oauth/logout/",e)}function i(e){return r("/today/",e)}n.d(t,{HF:()=>a,Kn:()=>l,tG:()=>i})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MoreIdeasTabsNavCommon-671aae98fcfbe50c.mjs.map