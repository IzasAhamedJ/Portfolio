(self.modernJsonp=self.modernJsonp||[]).push([["22361"],{655327:function(e,l,n){n.r(l),n.d(l,{default:()=>a});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="239c809acefcd1b75df8f18c8ffb91ff";let a=t},224266:function(e,l,n){var t;n.r(l),n.d(l,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:t,storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null}],type:"Pin",abstractKey:null};a.hash="c3027cfec56abe15f0990c2bc6707062";let i=a},501392:function(e,l,n){n.d(l,{Z:()=>r});var t=n(274320),a=n(15667),i=n(647709);function r({dangerouslySkipActivation:e}){let{isAuthenticated:l,userAgent:{browserName:n,browserVersion:r}}=(0,a.B)(),o=(0,i.HG)(),{checkExperiment:s}=(0,t.r)();return{isEnabled:"Chrome"===n&&Number(r.split(".")[0])>=135&&l&&o&&s("closeup_google_css_carousel_dweb",{dangerouslySkipActivation:e}).anyEnabled}}},787017:function(e,l,n){n.d(l,{p:()=>o,Z:()=>s}),n(167912);var t,a=n(501392),i=n(415546);let r=(void 0!==t||(t=n(655327)).hash&&"239c809acefcd1b75df8f18c8ffb91ff"!==t.hash&&console.error("The definition of 'useBuildCloseupImageOverlayProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function o(e,l,n,t,a){return!l&&!!e&&e.includes("tag")&&!n&&!a||t||!1}function s({carouselInfo:e,disablePinTagButton:l,domain:n,hasMetTrustAndSafetyCheck:t,isCollageEnabled:s,isEmployee:u,isORBACProfileManager:d,isScenePin:c,navLink:g,pinKey:p,showProductDetailPage:h}){let m=(0,i.Z)(r,p),{isEnabled:f}=(0,a.Z)({dangerouslySkipActivation:!1}),{access:y,aggregatedPinData:_,storyPinDataId:k,isPromoted:F}=m,b=!!_?.isShopTheLook,S=!1,v=!1;c||(S=!(v=!!g&&!s)&&!!n&&!!m.link&&!m.link.startsWith("https://i.pinimg.com")&&!(h&&e)&&!s);let E=t&&!d&&!F;return{showCarouselControls:!!e&&!f,showCloseupShopDomainLinkButton:c,showDebugSignalsFeedbackButton:!!u,showDomainLink:S,showDomainLinkButton:v=v&&!m?.isGoLinkless,showFlashlightButton:E,showPinTagButton:o(y,k,l,d,s),surfaceType:function({isScenePin:e,isShopTheLook:l}){return l?"stl":e?"stela":"flashlight"}({isScenePin:c,isShopTheLook:b})}}},846721:function(e,l,n){n.d(l,{Z:()=>F});var t,a=n(667294);n(167912);var i=n(507438),r=n(102134),o=n(878709),s=n(821342),u=n(415546),d=n(525839),c=n(411354),g=n(453179),p=n(274320),h=n(664897),m=n(448505),f=n(7872),y=n(218831),_=n(601686);let k=(void 0!==t||(t=n(224266)).hash&&"c3027cfec56abe15f0990c2bc6707062"!==t.hash&&console.error("The definition of 'useMediaContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function F({pinKey:e}){let l=(0,d.ZP)(),n=(0,s.Z)(),{checkExperiment:t}=(0,p.r)(),F=(0,m.Z)(),{mainImage:b,carouselInfo:S,previewImage:v,isGif:E,imgSrc:K}=(0,o.G)(),w=(0,r.Z)(),x=(0,u.Z)(k,e),C=(0,h.Z)(),{aggregatedPinData:P,altText:T,autoAltText:I,isEligibleForPdp:L,isEligibleForRelatedProducts:D,pinner:R,richMetadata:Z,trackedLink:M,utmLink:H,link:O,method:A,shuffle:G}=x,N=!L&&S?.carouselData,$=!!P?.isShopTheLook,W=!!G&&w(),B=!!D&&!$&&!L&&!N&&!W,z=(0,f.nl)(n,F)&&t("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,[V,U]=(0,a.useState)(!0),Y=(0,a.useCallback)(()=>{U(!1)},[U]),j=x.imageSpec_orig?.url,J=S?.carouselData?function(e){let{carousel_slots:l,index:n}=e;return l&&void 0!==n&&(l[n]||{}).image_signature?l[n].image_signature:null}(S.carouselData):x.imageSignature,X=(0,g.Zt)({trackedLink:M,link:O,utmLink:H}),q="catalog_bulk_create"===A||Z?.products,Q=X&&q?decodeURIComponent(X):X,ee=(0,f.Ms)(n,F)===R?.username&&z,{closeupWithinMasonryEnabled:el,paneWidth:en,showProductDetailPage:et}=(0,_.x4)(),{closeupBodyWidth:ea}=(0,y.K)(),{height:ei,width:er}=b,eo=(0,a.useMemo)(()=>({naturalWidth:er,naturalHeight:ei,alt:(0,i.Z)({altText:T,autoAltText:I,i18n:l}),src:E?K:!C&&K?.startsWith("https://i.pinimg.com/")?(0,c.Z)(K)||v?.url||"":v?.url||""}),[er,ei,T,I,l,E,C,K,v?.url]),es=(0,a.useMemo)(()=>({naturalHeight:eo.naturalHeight,naturalWidth:eo.naturalWidth,mainImage:{alt:eo.alt,src:E?eo.src:K},...!E&&{previewImage:{alt:"",src:E?"":eo.src}}}),[eo.alt,eo.naturalHeight,eo.naturalWidth,eo.src,K,E]);return{animateShopButton:V,disablePinTagButton:ee,imageProps:eo,imageSignature:J,imageWithPreview:es,isScenePin:B,link:Q,maxCloseupImageWidth:el&&ea||en,onShopButtonAnimationComplete:Y,originalImageUrl:j,showProductDetailPage:et}}},102134:function(e,l,n){n.d(l,{Z:()=>r});var t=n(274320),a=n(15667),i=n(647709);let r=()=>{let{isAuthenticated:e}=(0,a.B)(),l=(0,i.HG)(),{checkExperiment:n}=(0,t.r)();return()=>e&&l&&n("auth_dweb_shuffle_renderer_closeup_v2").anyEnabled}},27152:function(e,l,n){async function t(e){return new Promise((l,n)=>{let t=document.createElement("img");t.onerror=()=>n(Error(`Image failed to load with src ${e}`)),t.onload=()=>l(!0),t.src=e})}async function a(e){try{let l=await fetch(e,{method:"HEAD"}),n=(await l.blob()).type.startsWith("image/");{let l=await t(e);return n&&l}}catch(e){return!1}}n.d(l,{Z:()=>a})},411354:function(e,l,n){n.d(l,{Z:()=>o});var t=n(603316);let a=e=>{let l=new Image;l.loading="lazy",l.src=e;let{complete:n}=l;return l.src="",n},i=["736x","564x","474x","236x"],r=new RegExp(/\/(\d+x|originals)\//);function o(e){for(let l of i){let n=e.replace(r,`/${l}/`);if(a(n))return(0,t.nP)("web.closeup.cached_preview_image.found",{tags:{resolution:l}}),n}return(0,t.nP)("web.closeup.cached_preview_image.not_found"),null}},123317:function(e,l,n){n.d(l,{Cc:()=>p,DL:()=>u,Gf:()=>f,LX:()=>a,Lc:()=>y,Ls:()=>h,Rf:()=>s,YL:()=>o,ap:()=>i,h8:()=>c,pE:()=>d,s5:()=>m,tQ:()=>g,yR:()=>r});var t=n(20256);let a={w:9,h:16},i=a.w/a.h,r=8,o=10,s=5e3,u=2e3;function d(e,l=1){return{x:(e??24)/5,y:(e??24)*(l-1)}}let c={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},g=[c.IMAGE,c.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},h=new t.Ry(1),m=new t.H3([h]),f=new t.H3([m]),y=e=>{let l=Math.floor(e||0),n=Math.floor(l/60),t=l-60*n,a=n<10?`${n}`:n,i=t<10?`0${t}`:t;return`${a}:${i}`}},238187:function(e,l,n){function t(e){let l=[],n="";for(let t of e)if(n){let e=!!t.match(/\s/),a=!!n.match(/\s/);if(e===a)n+=t;else if(!a&&n.includes("-")){let e=0;for(let t=0;t<n.length;t+=1)"-"===n[t]&&(l.push(n.substring(e,t+1)),e=t+1);l.push(n.substring(e)),n=t}else l.push(n),n=t}else n=t;return n.length&&l.push(n),l}function a({boxHeight:e,boxWidth:l,font:n,startFontSize:a,text:i}){if("undefined"==typeof document||!document.body)return{fontSize:a,lines:[]};let{body:r}=document,o=document.createElement("div");r.appendChild(o);let s=i?.split(/\r?\n/g),u=a,d={letterSpacing:n.fontOverrides?.letterSpacing!=null?`${n.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(n.fontOverrides?.lineHeight||1.1),fontFamily:n.fontFamily,fontSize:`${u}px`,position:"absolute",visibility:"hidden",width:`${l}px`};Object.assign(o.style,d);let c=document.createElement("div");for(c.style.display="inline",o.appendChild(c),(s??[]).forEach((e,l)=>{let n=document.createElement("span");n.style.wordBreak="break-word",c.appendChild(n),n.appendChild(document.createTextNode(e)),l!==(i??"").length-1&&n.appendChild(document.createElement("br"))});(c.offsetHeight>e||c.offsetWidth>l)&&u>0;)u-=1,o.style.fontSize=`${u}px`;return c.remove(),o.remove(),{fontSize:u,lines:u>0?function({font:e,fontSize:l,textList:n,width:a}){if("undefined"==typeof document||!document.body||a<=0||l<=0)return[];let{body:i}=document,r=document.createElement("div");i.appendChild(r);let o={letterSpacing:e.fontOverrides?.letterSpacing!=null?`${e.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(e.fontOverrides?.lineHeight||1.1),fontFamily:e.fontFamily,fontSize:`${l}px`,visibility:"hidden"};Object.assign(r.style,o);let s=document.createElement("div");s.style.display="inline",r.appendChild(s);let u=document.createTextNode("");s.appendChild(u);let d=[],c="",g=e=>{let l=e.trim();return u.textContent=l,{text:l,width:s.offsetWidth}},p=e=>{let l=!!e.match(/\s/),n=0===c.length;if(u.textContent=`${c}${e}`,s.offsetWidth>a)if(l)d.push(g(c)),c="";else if(n)for(let l of e)p(l);else d.push(g(c)),c="",p(e);else c+=e};for(let e of n??[])0===e.length&&d.push(g(c)),t(e).forEach(e=>p(e)),c.length&&(d.push(g(c)),c="");return s.remove(),r.remove(),d}({font:n,fontSize:u,textList:s,width:l}):[]}}function i(e){let l=window.getComputedStyle(e,null),n=parseFloat(l.getPropertyValue("height").replace("px","")),t=parseFloat(l.getPropertyValue("font-size").replace("px","")),a=parseFloat(l.getPropertyValue("line-height").replace("px",""));return Number.isNaN(a)&&(a=1.2*t),Math.ceil(n/a)}n.d(l,{KV:()=>a,Yd:()=>t,xW:()=>i})},47676:function(e,l,n){n.d(l,{Af:()=>d,Ei:()=>s,II:()=>k,Lh:()=>m,U:()=>p,Zy:()=>o,dD:()=>i,er:()=>h,hb:()=>y,in:()=>u,j7:()=>f,kX:()=>c,mx:()=>_,n5:()=>r,q8:()=>g,xH:()=>a});var t=n(123317);let a=1048576,i=3,r=20,o=3,s=10,u=50,d=10,c=1200,g=375,p=375/t.ap,h=4096,m="#FFFFFF",f={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},y=420,_=325,k=768}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/22361-ecd04c5de8829208.mjs.map