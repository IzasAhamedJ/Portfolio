(self.modernJsonp=self.modernJsonp||[]).push([["97956"],{140725:function(e,t,n){n.d(t,{Q:()=>s,Z:()=>d});var r=n(667294),i=n(521009),a=n(346955),l=n(991384),o=n(15667);function s(e,t){let{setViewContextData:n}=(0,a.A$)(),{requestIdentifier:s}=(0,o.B)(),d=(0,i.Z)(),{viewData:u}=(0,a.SU)();(0,r.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(u,e.view_data):u,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:n}=e;return s(n),t||null}},991384:function(e,t,n){n.d(t,{Z:()=>function e(t,n,r=()=>void 0){let i=r(t,n);return void 0!==i?i:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce((t,i,a)=>(t[a]=e(t[a],n[a],r),t),[...t]):t&&"object"==typeof t&&n&&"object"==typeof n?Object.keys(n).reduce((t,i)=>(t[i]=e(t[i],n[i],r),t),{...t}):n}})},458963:function(e,t,n){n.d(t,{Z:()=>l});var r=n(581722);let i=[1000069,1000075],a={};function l(){var e;return e=(0,r.v9)(({experiences:e})=>e),i.forEach(t=>{e[t]&&(void 0===a[t]||a[t].id!==e[t].id)&&(a[t]=e[t])}),a}},199593:function(e,t,n){n.d(t,{Z:()=>a,k:()=>r});let{Provider:r,get:i}=(0,n(729434).Z)("Conversations"),a=i},973811:function(e,t,n){n.d(t,{Z:()=>s});var r=n(980787),i=n(603316);let a={13:e=>!!e.view_parameter,9105:e=>!!e.view_parameter,9104:e=>!!e.view_parameter,10357:e=>!!e.view_parameter,10358:e=>!!e.view_parameter,10359:e=>!!e.view_parameter,10360:e=>!!e.view_parameter,15748:e=>!!e.view_parameter,110:e=>!!e.view_parameter,16248:e=>!!e.view_parameter,16677:e=>!!e.view_parameter,10484:e=>!!e.view_parameter,16678:e=>!!e.view_parameter,102:e=>!!e.element&&!!e.view_parameter,101:e=>!!e.element&&!!e.view_parameter,15749:e=>!!e.element&&!!e.view_parameter,8721:e=>!!e.element&&!!e.view_parameter,8722:e=>!!e.element&&!!e.view_parameter,120:e=>!!e.element&&!!e.view_parameter,4104:e=>!!e.view_parameter&&!e.element,4105:e=>!!e.view_parameter&&!e.element,8900:e=>!!e.view_parameter&&!e.element,16480:e=>!!e.view_parameter&&!e.element,9626:e=>!!e.view_parameter&&!e.element,9625:e=>!!e.view_parameter&&!e.element,46:e=>!!e.view_parameter&&!e.element,45:e=>!!e.view_parameter&&!e.element},l=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13,15950,14572,14573,14574,14575,14576,15900,43],o=[259,3120,3139,172,3596,3542,261,171,260,4052,4053],s=()=>{let{logContextEvent:e}=(0,r.u)();return t=>{let{event_type:n,element:r,view_parameter:s,component:d,view_type:u,aux_data:c,object_id_str:m}=t,p=(e=>{let{event_type:t,element:n,view_parameter:r}=e;return Object.keys(a).includes(`${t}`)&&(!n||l.includes(n))&&(!r||o.includes(r))?a[t]?.(e)?-1===[213,24,260].indexOf(e.view_type||0)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}:{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}})(t);if(p){console.error(p.message),(0,i.nP)("webapp.track_nux_invalid_parameters",{sampleRate:1,tags:{code:p.code,component:d,event_type:n,element:r,view_type:u,view_parameter:s}});return}e({component:d,event_type:n,element:r,view_parameter:s,view_type:u,aux_data:c,object_id_str:m})}}},652030:function(e,t,n){n.d(t,{Z:()=>u});var r=n(15667),i=n(647709),a=n(755313),l=n(737427),o=n(78762),s=n(785893);let d=(0,o.Z)(()=>Promise.all([n.e("62707"),n.e("2167")]).then(n.bind(n,170180)),void 0,e=>170180,"UnauthHomePage");function u(){let e=(0,i.ZP)(),{isAuthenticated:t}=(0,r.B)();return t?"desktop"===e?(0,s.jsx)(a.Z,{}):(0,s.jsx)(l.Z,{}):(0,s.jsx)(d,{})}},755313:function(e,t,n){n.d(t,{Z:()=>M});var r=n(667294),i=n(616550),a=n(20256),l=n(730525),o=n(839626),s=n(785893);let d=()=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(o.RK,{placementId:11}),(0,s.jsx)(o.k6,{placementId:1000503}),(0,s.jsx)(o.H6,{placementId:1000541})]});var u=n(982166),c=n(525839);function m({onDismiss:e,onComplete:t,titleText:n,detailedText:r,dismissButtonText:i,completeButtonText:l}){let o=(0,c.ZP)();return(0,s.jsx)(u.ZP,{accessibilityModalLabel:r,closeOnOutsideClick:!1,onDismiss:e,size:"sm",children:(0,s.jsx)(a.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",width:"100%",children:(0,s.jsxs)(a.xu,{marginTop:2,children:[(0,s.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:10,children:(0,s.jsx)(a.JO,{accessibilityLabel:o._('Pinterest logo icon', 'Pinterest logo icon', 'Pinterest logo icon'),color:"brandPrimary",icon:"pinterest",size:40})}),(0,s.jsx)(a.xu,{marginEnd:3,marginStart:3,marginTop:6,overflow:"hidden",rounding:2,children:(0,s.jsxs)(a.xu,{color:"default",paddingX:4,paddingY:2,children:[(0,s.jsx)(a.kC,{alignItems:"start",justifyContent:"between",children:(0,s.jsxs)(a.xu,{flex:"grow",children:[(0,s.jsx)(a.X6,{align:"center",size:"600",children:n}),(0,s.jsx)(a.xu,{paddingY:4,children:(0,s.jsxs)(a.xv,{align:"center",children:[" ",r," "]})})]})}),(0,s.jsx)(a.xu,{display:"flex",justifyContent:"end",marginBottom:12,marginTop:8,children:(0,s.jsxs)(a.kC,{gap:{row:2,column:0},justifyContent:"end",children:[(0,s.jsx)(a.zx,{color:"gray",onClick:e,size:"lg",text:i}),(0,s.jsx)(a.zx,{color:"red",onClick:t,size:"lg",text:l})]})})]})})]})})})}function p({onComplete:e,onDismiss:t,titleText:n,detailedText:i,dismissButtonText:a,completeButtonText:l}){return(0,s.jsx)(r.Fragment,{children:(0,s.jsx)(m,{completeButtonText:l,detailedText:i,dismissButtonText:a,onComplete:e,onDismiss:t,titleText:n})})}let x=function({placementId:e,experience:t}){return t&&t.display_data?(0,s.jsx)(o.a3,{eligibleIds:[503750],placementId:e,children:({complete:e,dismiss:n})=>(0,s.jsx)(p,{completeButtonText:t.display_data.complete_button_text,detailedText:t.display_data.detailed_text,dismissButtonText:t.display_data.dismiss_button_text,onComplete:e,onDismiss:n,titleText:t.display_data.title_text})}):null};var _=n(312898),f=n(704088),h=n(355940),v=n(949044),g=n(974705),w=n(78762);let j=(0,w.Z)(()=>Promise.all([n.e("74296"),n.e("39917")]).then(n.bind(n,622610)),{ssr:!1},e=>622610,void 0);function y({placementId:e,...t}){return(0,s.jsx)(o.a3,{disableAutoView:!0,eligibleTypes:[9],placementId:e,children:({complete:e,dismiss:n,view:r,experience:{display_data:i}})=>(0,s.jsx)(h.Z,{name:"SafeSuspense_ExperienceNuxContainer_NuxContainer",children:(0,s.jsx)(j,{...(0,v.Z)(g.Z,!0)(i),handleComplete:e,handleDismiss:n,handleView:r,hasUnauthLandingPage:i.has_landing_page,...t})})})}var P=n(879592),b=n(581722),k=n(400267),C=n(980787),Z=n(821342),I=n(536652),S=n(821806),T=n(973811),E=n(261228);let R=(0,r.lazy)(()=>Promise.all([n.e("74296"),n.e("39917")]).then(n.bind(n,622610)));function N({hideFollowedInterests:e}){let{logContextEvent:t}=(0,C.u)(),n=(0,b.I0)(),i=(0,Z.Z)(),{completeExperience:a,dismissExperience:l,experienceForPlacement:d,viewExperience:u}=(0,o.oS)(11),c=d?.experience_id===500278,{steps:m,refresh_homefeed_background:p=!1}=(0,v.Z)(g.Z,!0)(d?.display_data||{}),[x,_]=(0,r.useState)(!1),f=(0,T.Z)(),w=()=>{n((0,I.U)("UserHomefeedResource",{options:(0,k.Z)({inNux:!0,staticFeed:!1,viewerIsPartner:i.isAuth&&i.isPartner})},null))};return(0,r.useEffect)(()=>{x&&l(11,500278)},[x,l]),c?(0,s.jsx)(h.Z,{name:"SafeSuspense_RenuxContainer_NuxContainer",children:(0,s.jsx)(S.Z,{children:(0,s.jsx)(R,{handleComplete:()=>{t({event_type:101,component:17,element:96,view_type:213}),c&&a(11,500278);let e=Math.floor(new Date().getTime()/1e3);n((0,E.Q_)("USM_RELAUNCH_NUX_COMPLETED",e)),w()},handleDismiss:e=>{t({event_type:101,component:17,element:1150,view_type:213}),c&&(_(!0),"NuxPicker"===e&&f({event_type:9626,view_type:213,view_parameter:172})),p&&w()},handleView:()=>{c&&u(11,500278)},hasDismissedModal:x,hideFollowedInterests:e||!1,isRenux:!0,steps:m})})}):null}let B=({experience:e,isNux:t})=>(0,s.jsxs)(r.Fragment,{children:[t||e&&e.display_data&&e.display_data.is_partner_renux?(0,s.jsx)(y,{placementId:11}):(0,s.jsx)(N,{hideFollowedInterests:!0}),(0,s.jsx)(o.iH,{placementId:11}),(0,s.jsx)(f.Z,{placementId:11}),(0,s.jsx)(o.u3,{placementId:11}),(0,s.jsx)(o.b9,{placementId:11}),(0,s.jsx)(o._f,{placementId:11}),(0,s.jsx)(o.nj,{placementId:11}),(0,s.jsx)(P.Z,{placementId:11}),(0,s.jsx)(_.Z,{placementId:11}),(0,s.jsx)(x,{experience:e,placementId:11})]});var L=n(140725),A=n(993279),D=n(255957),O=n(378888),z=n(199593),U=n(603316);let F=(0,w.Z)(()=>n.e("34692").then(n.bind(n,664826)),{ssr:!1},e=>664826,"BackgroundPinImages"),V=(0,w.Z)(()=>Promise.all([n.e("74605"),n.e("38680"),n.e("54536")]).then(n.bind(n,336695)),{ssr:!1},e=>336695,"ExperienceBizNuxFullscreenContainer");function H({experience:e}){let t=(0,i.TH)(),{params:o}=(0,i.$B)(),{conversationOpen:u,dropdownOpen:c}=(0,z.Z)();(0,L.Q)({view_type:1,view_parameter:92});let{conversation_id:m,tab:p}=(0,O.mB)(t.search),x=o.conversation_id||m;(0,r.useEffect)(()=>{x&&u(x)},[x]),(0,r.useEffect)(()=>{"inbox"===p&&c()},[p]),(0,r.useEffect)(()=>{let e=document.getElementById("rum-config");null!==e&&null!==e.textContent&&(window.pinterest_rum_client_config=JSON.parse(e.textContent),n.e("34912").then(n.bind(n,471869)).then(e=>{e.default()}))},[]);let _=e?.experience_id,f=10105===_;return[500787,500894].includes(_)?(0,s.jsx)(h.Z,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxFullscreenContainer",children:(0,s.jsx)(V,{experienceId:500787,placementId:11})}):(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(B,{experience:e,isNux:f}),f?(0,s.jsx)(h.Z,{name:"SafeSuspense_AuthHomePage_BackgroundPinImages",children:(0,s.jsx)(F,{inNux:f,isFlexible:!0})}):(0,s.jsx)(r.Fragment,{children:(0,s.jsx)(l.Z,{experience:e})}),(0,s.jsx)(d,{})]})}let M=(0,o.RL)(11,()=>({using_pwa:(0,A.So)(window)}))(function(e){let{experience:t}=e,n=t?.experience_id,i=10105===n,a=[500787,500894].includes(n),l=i||a,[o,d]=(0,r.useState)(null);return null===o&&d(i),i&&!1===o&&((0,U.nP)("home_product.homefeed.incorrect_in_nux_state_for_first_load",{sampleRate:.1,tags:{appType:"web"}}),d(!0)),l?(0,s.jsx)(H,{...e}):(0,s.jsx)(D.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:(0,s.jsx)(H,{...e})})})},921825:function(e,t,n){n.d(t,{$:()=>_,G:()=>f});var r=n(667294),i=n(422578),a=n(616550),l=n(274320),o=n(15667);function s(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}let d={"/collage-creation-tool":{loader:()=>Promise.all([n.e("8126"),n.e("50444")]).then(n.bind(n,31156)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("19007"),n.e("8126"),n.e("57207"),n.e("63334"),n.e("78946"),n.e("83292"),n.e("3646"),n.e("70530"),n.e("26314"),n.e("76201")]).then(n.bind(n,775225)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([n.e("25418"),n.e("996")]).then(n.bind(n,589382)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("79159"),n.e("2205"),n.e("15499"),n.e("47336")]).then(n.bind(n,671804)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>n.e("62315").then(n.bind(n,540803)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("15417"),n.e("16868"),n.e("15659"),n.e("60673"),n.e("23229"),n.e("50031"),n.e("16829")]).then(n.bind(n,743936)).then(e=>e.default)},"/today/":{loader:()=>n.e("42207").then(n.bind(n,489815)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("25418"),n.e("82823"),n.e("2764"),n.e("83924"),n.e("79159"),n.e("667"),n.e("91678")]).then(n.bind(n,682910)).then(e=>e.default)}};var u=n(603316),c=n(785893);let m=(0,r.createContext)(null),p=/(^\/)|:|(\/$)/g,x=/\//g,_=({children:e})=>{let t=(0,i.useRelayEnvironment)(),{checkExperiment:n}=(0,l.r)(),s=(0,o.B)(),d=(0,r.useRef)({}),_=(0,r.useCallback)(e=>{let{rootComponent:r,loadedValueState:i}=v(h(d.current,e),e,"Both",t,n,s);return"NotYetRendered"===i.performanceLoggingState.kind&&(i.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:r,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===i.performanceLoggingState.kind){let n=Date.now();(0,u.LY)("entrypointRouter.routeTiming."+e.kind.replace(p,"").replace(x,"_"),n-i.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),i.performanceLoggingState={kind:"Complete"}}},loadedValue:i.loadedValue}},[n,t,s]),f=(0,a.k6)(),g=(0,r.useCallback)(e=>{v(h(d.current,e),e,"Both",t,n,s);let r=(0,a.Gn)(e.kind,e.routeParams);f.push(r)},[f,n,t,s]),w=(0,r.useCallback)((e,r)=>{let i=h(d.current,e);"Both"===r&&v(i,e,r,t,n,s)},[n,t,s]),j=(0,r.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:_,preload:w,imperativelyNavigate:g}),[_,g,w]);return(0,c.jsx)(m,{value:j,children:e})};function f(){let e=(0,r.useContext)(m);if(null==e)throw Error("Missing entrypoint context");return e}function h(e,t){let n=d[t.kind];if(null==n)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");return e[t.kind]??={rootComponent:s(n.rootComponent()),loadedValueStates:{},loader:s(n.loader())}}function v(e,t,n,r,i,a){var l;let o=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),r={};for(let i=0;i<n.length;i++)r[n[i]]=e(t[n[i]]);return r}(t.routeParams)),{loadedValueStates:d,rootComponent:c,loader:m}=e;return{rootComponent:c,loadedValueState:d[o]??=(l=t.kind,setTimeout(()=>{let e=d[o];null!=e&&(0,u.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:l,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){var n,r;let{result:i}=e;switch(i.kind){case"Pending":return s(i.promise.then(t));case"Ok":return{result:{kind:"Ok",value:n=t(i.value)},read:()=>n};case"Err":return{result:{kind:"Err",error:r=i.error},read:()=>{throw r}};default:throw Error("Unexpected case")}}(m,e=>e({routeParams:t.routeParams,relayEnvironment:r,checkExperiment:i,requestContext:a})),performanceLoggingState:{kind:"NotYetRendered"}})}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97956-2dbeccfbcd6cc5bd.mjs.map